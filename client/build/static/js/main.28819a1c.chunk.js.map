{"version":3,"sources":["pages/Home.js","context/authContext.js","context/loadingContext.js","pages/SignIn.js","pages/SignUp.js","components/Booking.js","pages/Booking.js","components/EventCreateDialog.js","components/CreatorInfoDialog.js","components/Event.js","pages/Event.js","components/Loading.js","components/PrivateRoute.js","App.js","index.js","img/event.png"],"names":["HomePage","createContext","signIn","signOut","isLoading","setIsLoading","useStyles","makeStyles","theme","title","marginTop","spacing","signInbutton","signUpbutton","SignInPage","classes","useState","email","setEmail","password","setPassword","useContext","AuthContext","LoadingContext","handleClickSignIn","a","requestBody","query","axios","url","method","data","result","Error","login","token","alert","console","log","Container","maxWidth","Typography","className","variant","align","paragraph","TextField","label","fullWidth","margin","onChange","e","target","value","type","Button","color","size","onClick","component","Link","to","SignUpPage","password1","setPassword1","password2","setPassword2","handleClickSignUp","card","marginBottom","Booking","props","id","createdAt","event","getBookings","date","handleBtnCancel","headers","localStorage","getItem","errors","message","Card","CardContent","gutterBottom","CardActions","root","BookingPage","bookings","setBookings","useEffect","map","booking","_id","EventCreateDialog","open","handleClose","getEvents","setTitle","price","setPrice","setDate","description","setDescription","handleCreate","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","autoFocus","DialogActions","CreatorInfoDialog","creator","user","setUser","getUser","createdEvents","reduce","arg","ele","Event","setOpen","handleBtnBooking","createCard","media","height","EventPage","events","setEvents","CardActionArea","CardMedia","image","eventImg","position","top","left","width","background","opacity","icon","Loading","CircularProgress","PrivateRoute","children","rest","render","location","pathname","state","from","flexGrow","main","overflowY","boxSizing","menuButton","marginRight","App","setToken","setItem","Provider","AppBar","Toolbar","IconButton","edge","aria-label","exact","path","ReactDOM","document","getElementById","module","exports"],"mappings":"oLAQeA,MAPf,WACE,OACE,2C,qFCDWC,0BAAc,CAC3BC,OAAQ,aAGRC,QAAS,eCJIF,0BAAc,CAC3BG,WAAW,EACXC,aAAc,eCMVC,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,MAAO,CACLC,UAAWF,EAAMG,QAAQ,KAE3BC,aAAc,CACZF,UAAWF,EAAMG,QAAQ,IAE3BE,aAAc,CACZH,UAAWF,EAAMG,QAAQ,QA0DdG,MAvDf,WACE,IAAMC,EAAUT,IADI,EAEMU,mBAAS,IAFf,mBAEbC,EAFa,KAENC,EAFM,OAGYF,mBAAS,IAHrB,mBAGbG,EAHa,KAGHC,EAHG,KAIZlB,EAAWmB,qBAAWC,GAAtBpB,OACDG,EAAgBgB,qBAAWE,GAA3BlB,aAODmB,EAAiB,uCAAG,8BAAAC,EAAA,6DAClBC,EAAc,CAClBC,MAAM,6CAAD,OAEeV,EAFf,yBAEqCE,EAFrC,4GAFiB,SAatBd,GAAa,GAbS,SAcDuB,IAAM,CACzBC,IAAK,WACLC,OAAQ,OACRC,KAAML,IAjBc,WAchBM,EAdgB,QAmBXD,KAAKA,KAnBM,sBAoBd,IAAIE,MAAM,kBApBI,OAsBtB/B,EAAO8B,EAAOD,KAAKA,KAAKG,MAAMC,OAC9BC,MAAM,mBAvBgB,kDAyBtBA,MAAM,kBACNC,QAAQC,IAAR,MA1BsB,yBA4BtBjC,GAAa,GA5BS,6EAAH,qDA+BvB,OACE,6BACE,kBAACkC,EAAA,EAAD,CAAWC,SAAS,MAClB,kBAACC,EAAA,EAAD,CAAYC,UAAW3B,EAAQN,MAAOkC,QAAQ,KAAKC,MAAM,SAASC,UAAU,QAA5E,WACA,kBAACC,EAAA,EAAD,CAAWC,MAAM,QAAQC,UAAU,OAAOC,OAAO,SAASC,SAzCtC,SAACC,GACzBjC,EAASiC,EAAEC,OAAOC,UAyCd,kBAACP,EAAA,EAAD,CAAWQ,KAAK,WAAWP,MAAM,WAAWC,UAAU,OAAOC,OAAO,SAASC,SAvCtD,SAACC,GAC5B/B,EAAY+B,EAAEC,OAAOC,UAuCjB,kBAACE,EAAA,EAAD,CAAQb,UAAW3B,EAAQH,aAAc+B,QAAQ,YAAYa,MAAM,UAAUR,UAAU,OAAOS,KAAK,QAAQC,QAASlC,GAApH,WACA,kBAAC+B,EAAA,EAAD,CAAQI,UAAWC,IAAMC,GAAG,UAAUnB,UAAW3B,EAAQF,aAAc8B,QAAQ,WAAWK,UAAU,OAAOS,KAAK,SAAhH,qCC9DFnD,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,MAAO,CACLC,UAAWF,EAAMG,QAAQ,KAE3BC,aAAc,CACZF,UAAWF,EAAMG,QAAQ,IAE3BE,aAAc,CACZH,UAAWF,EAAMG,QAAQ,QAmEdmD,MAhEf,WACE,IAAM/C,EAAUT,IADI,EAEMU,mBAAS,IAFf,mBAEbC,EAFa,KAENC,EAFM,OAGcF,mBAAS,IAHvB,mBAGb+C,EAHa,KAGFC,EAHE,OAIchD,mBAAS,IAJvB,mBAIbiD,EAJa,KAIFC,EAJE,KAKb7D,EAAgBgB,qBAAWE,GAA3BlB,aAUD8D,EAAiB,uCAAG,4BAAA1C,EAAA,yDAClBC,EAAc,CAClBC,MAAM,gFAAD,OAGWV,EAHX,qCAIc8C,EAJd,yFAFiB,SAetB1D,GAAa,GACT0D,IAAcE,GAAcA,GAAcA,EAhBxB,sBAiBd,IAAIhC,MAAM,kBAjBI,uBAmBDL,IAAM,CACzBC,IAAI,WACJC,OAAQ,OACRC,KAAML,IAtBc,iBAyBXK,KAAKA,KAzBM,uBA0Bd,IAAIE,MAAM,kBA1BI,QA4BtBG,MAAM,mBA5BgB,kDA8BtBA,MAAM,kBACNC,QAAQC,IAAR,MA/BsB,yBAiCtBjC,GAAa,GAjCS,6EAAH,qDAoCvB,OACE,6BACE,kBAACkC,EAAA,EAAD,CAAWC,SAAS,MAClB,kBAACC,EAAA,EAAD,CAAYC,UAAW3B,EAAQN,MAAOkC,QAAQ,KAAKC,MAAM,SAASC,UAAU,QAA5E,WACA,kBAACC,EAAA,EAAD,CAAWC,MAAM,QAAQC,UAAU,OAAOC,OAAO,SAASC,SAjDtC,SAACC,GACzBjC,EAASiC,EAAEC,OAAOC,UAiDd,kBAACP,EAAA,EAAD,CAAWQ,KAAK,WAAWP,MAAM,WAAWC,UAAU,OAAOC,OAAO,SAASC,SA/CrD,SAACC,GAC7Ba,EAAab,EAAEC,OAAOC,UA+ClB,kBAACP,EAAA,EAAD,CAAWQ,KAAK,WAAWP,MAAM,mBAAmBC,UAAU,OAAOC,OAAO,SAASC,SA7C7D,SAACC,GAC7Be,EAAaf,EAAEC,OAAOC,UA6ClB,kBAACE,EAAA,EAAD,CAAQb,UAAW3B,EAAQH,aAAc+B,QAAQ,YAAYa,MAAM,UAAUR,UAAU,OAAOS,KAAK,QAAQC,QAASS,GAApH,WACA,kBAACZ,EAAA,EAAD,CAAQI,UAAaC,IAAMC,GAAI,UAAUnB,UAAW3B,EAAQF,aAAc8B,QAAQ,WAAWK,UAAU,OAAOS,KAAK,SAAnH,uC,2BCrEFnD,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC4D,KAAM,CACJC,aAAc7D,EAAMG,QAAQ,QAqEjB2D,MAlEf,SAAiBC,GAAQ,IACfpE,EAAWkB,qBAAWC,GAAtBnB,QACDE,EAAgBgB,qBAAWE,GAA3BlB,aACDU,EAAUT,IACTkE,EAAqCD,EAArCC,GAAIC,EAAiCF,EAAjCE,UAAWC,EAAsBH,EAAtBG,MAAOC,EAAeJ,EAAfI,YACtBlE,EAAeiE,EAAfjE,MAAOmE,EAAQF,EAARE,KACRC,EAAe,uCAAG,gCAAApD,EAAA,6DAChBC,EAAc,CAClBC,MAAM,2DAAD,OAE0B6C,EAF1B,4EAFe,SAYpBnE,GAAa,GAZO,SAaCuB,IAAM,CACzBC,IAAI,WACJC,OAAQ,OACRC,KAAML,EACNoD,QAAS,CACT,cAAgB,UAAhB,OAA2BC,aAAaC,QAAQ,aAlB9B,UAadhD,EAbc,mBAqBjBA,EAAOD,YArBU,aAqBjB,EAAakD,QArBI,oBAsBmB,oBAAjCjD,EAAOD,KAAKkD,OAAO,GAAGC,QAtBR,uBAuBhB/E,IACM,IAAI8B,MAAM,kBAxBA,WA2BhBD,EAAOD,KAAKA,KA3BI,uBA4BZ,IAAIE,MAAM,yBA5BE,QA8BpB0C,IACAvC,MAAM,0BA/Bc,kDAiCpBA,MAAM,EAAD,IACLC,QAAQC,IAAR,MAlCoB,yBAoCpBjC,GAAa,GApCO,6EAAH,qDAuCrB,OACE,6BACA,kBAAC8E,EAAA,EAAD,CAAMzC,UAAW3B,EAAQqD,KAAMzB,QAAQ,YACrC,kBAACyC,EAAA,EAAD,KACE,kBAAC3C,EAAA,EAAD,CAAYE,QAAS,KAAKa,MAAM,UAAU6B,cAAY,GACnD5E,GAEH,kBAACgC,EAAA,EAAD,CAAYE,QAAQ,QAAQ0C,cAAY,GAAxC,gBACgBT,GAEhB,kBAACnC,EAAA,EAAD,CAAYE,QAAQ,SAApB,kBACkB8B,IAGpB,kBAACa,EAAA,EAAD,KACE,kBAAC/B,EAAA,EAAD,CAAQC,MAAM,UAASC,KAAK,QAAQC,QAAWmB,GAA/C,cCpEFvE,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC+E,KAAM,CACJ7E,UAAWF,EAAMG,QAAQ,QA6Dd6E,MA1Df,WAAwB,IACdrF,EAAYkB,qBAAWC,GAAvBnB,QACDE,EAAgBgB,qBAAWE,GAA3BlB,aACDU,EAAUT,IAHK,EAIWU,mBAAS,IAJpB,mBAIdyE,EAJc,KAIJC,EAJI,KAKrBC,qBAAU,WACRhB,MACA,IACF,IAAMA,EAAW,uCAAG,gCAAAlD,EAAA,6DACZC,EAAc,CAClBC,MAAM,gMAFU,SAgBhBtB,GAAa,GAhBG,SAiBKuB,IAAM,CACzBC,IAAK,WACLC,OAAQ,OACRC,KAAML,EACNoD,QAAS,CACP,cAAgB,UAAhB,OAA2BC,aAAaC,QAAQ,aAtBpC,UAiBVhD,EAjBU,mBAyBbA,EAAOD,YAzBM,aAyBb,EAAakD,QAzBA,oBA0BuB,oBAAjCjD,EAAOD,KAAKkD,OAAO,GAAGC,QA1BZ,uBA2BZ/E,IACM,IAAI8B,MAAM,kBA5BJ,WA+BXD,EAAOD,KAAKA,KA/BD,uBAgCR,IAAIE,MAAM,uBAhCF,QAkChByD,EAAY1D,EAAOD,KAAKA,KAAK4C,aAlCb,kDAoChBvC,MAAM,EAAD,IACLC,QAAQC,IAAR,MArCgB,yBAuChBjC,GAAa,GAvCG,6EAAH,qDA0CjB,OACE,kBAACkC,EAAA,EAAD,CAAWC,SAAS,KAAKE,UAAW3B,EAAQwE,MAA5C,OACGE,QADH,IACGA,OADH,EACGA,EAAUG,KAAI,SAAAC,GAAO,OACnB,kBAAC,EAAD,CAASlB,YAAeA,EAAaH,GAAIqB,EAAQC,IAAKrB,UAAWoB,EAAQpB,UAAWC,MAAOmB,EAAQnB,a,gFC2C7FqB,MAjGf,SAA2BxB,GAAQ,IACzBpE,EAAWkB,qBAAWC,GAAtBnB,QACA6F,EAAiCzB,EAAjCyB,KAAMC,EAA2B1B,EAA3B0B,YAAaC,EAAc3B,EAAd2B,UACpB7F,EAAgBgB,qBAAWE,GAA3BlB,aAHyB,EAINW,mBAAS,IAJH,mBAIzBP,EAJyB,KAIlB0F,EAJkB,OAKNnF,mBAAS,IALH,mBAKzBoF,EALyB,KAKlBC,EALkB,OAMRrF,mBAAS,IAND,mBAMzB4D,EANyB,KAMnB0B,EANmB,OAOMtF,mBAAS,IAPf,mBAOzBuF,EAPyB,KAOZC,EAPY,KAQ1BC,EAAY,uCAAG,gCAAAhF,EAAA,yDACbC,EAAc,CAClBC,MAAM,gFAAD,OAGWlB,EAHX,wCAIiB8F,EAJjB,kCAKWH,EALX,gCAMUxB,EANV,uJAFY,SAoBjBqB,IACA5F,GAAa,GACTI,GAAU2F,GAAUxB,GAAS2B,EAtBhB,sBAuBT,IAAItE,MAAM,uBAvBD,uBAyBIL,IAAM,CACzBC,IAAI,WACJC,OAAQ,OACRC,KAAML,EACNoD,QAAS,CACT,cAAgB,UAAhB,OAA2BC,aAAaC,QAAQ,aA9BjC,UAyBXhD,EAzBW,mBAiCdA,EAAOD,YAjCO,aAiCd,EAAakD,QAjCC,oBAkCsB,oBAAjCjD,EAAOD,KAAKkD,OAAO,GAAGC,QAlCX,uBAmCb/E,IACM,IAAI8B,MAAM,kBApCH,WAuCbD,EAAOD,KAAKA,KAvCC,uBAwCT,IAAIE,MAAM,uBAxCD,QA0CjBG,MAAM,wBACN8D,IA3CiB,kDA6CjB9D,MAAM,EAAD,IACLC,QAAQC,IAAR,MA9CiB,yBAgDjBjC,GAAa,GAhDI,6EAAH,qDAgElB,OACE,6BACE,kBAACqG,EAAA,EAAD,CAAQV,KAAMA,EAAMW,QAASV,GAC3B,kBAACW,EAAA,EAAD,qBACA,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,iEAGA,kBAAChE,EAAA,EAAD,CAAWiE,WAAS,EAAC9D,OAAO,QAAQF,MAAM,QAAQC,WAAS,EAACE,SArB1C,SAACC,GACzBgD,EAAShD,EAAEC,OAAOC,UAqBZ,kBAACP,EAAA,EAAD,CAAWG,OAAO,QAAQF,MAAM,QAAQC,WAAS,EAACE,SAnBhC,SAACC,GACzBkD,EAASlD,EAAEC,OAAOC,UAmBZ,kBAACP,EAAA,EAAD,CAAWG,OAAO,QAAQF,MAAM,OAAOC,WAAS,EAACE,SAjBhC,SAACC,GACxBmD,EAAQnD,EAAEC,OAAOC,UAiBX,kBAACP,EAAA,EAAD,CAAWG,OAAO,QAAQF,MAAM,cAAcC,WAAS,EAACE,SAfhC,SAACC,GAC/BqD,EAAerD,EAAEC,OAAOC,WAgBpB,kBAAC2D,EAAA,EAAD,KACE,kBAACzD,EAAA,EAAD,CAAQG,QAASuC,EAAazC,MAAM,WAApC,UAGA,kBAACD,EAAA,EAAD,CAAQG,QAAS+C,EAAcjD,MAAM,WAArC,cCnCKyD,MAzDf,SAA2B1C,GAAQ,IAAD,EACxByB,EAA+BzB,EAA/ByB,KAAMC,EAAyB1B,EAAzB0B,YAAaiB,EAAY3C,EAAZ2C,QADK,EAERlG,mBAAS,IAFD,mBAEzBmG,EAFyB,KAEnBC,EAFmB,KAGhCzB,qBAAU,WACR0B,MACA,IACF,IAAMA,EAAO,uCAAG,8BAAA5F,EAAA,6DACRC,EAAc,CAClBC,MAAM,8CAAD,OAEgBuF,EAAQjG,MAFxB,kKAFO,kBAgBSW,IAAM,CACzBC,IAAK,WACLC,OAAQ,OACRC,KAAML,IAnBI,WAgBNM,EAhBM,QAqBAD,KAAKA,KArBL,sBAsBJ,IAAIE,MAAM,mBAtBN,OAwBZmF,EAAQpF,EAAOD,KAAKA,KAAKsF,SAxBb,kDA0BZjF,MAAM,mBACNC,QAAQC,IAAR,MA3BY,0DAAH,qDA8Bb,OACE,6BACE,kBAACoE,EAAA,EAAD,CAAQV,KAAMA,EAAMW,QAASV,GAC3B,kBAACW,EAAA,EAAD,4BACA,kBAACC,EAAA,EAAD,KACE,kBAACpE,EAAA,EAAD,CAAY4C,cAAY,GAAxB,WACW8B,EAAKlG,OAEhB,kBAACwB,EAAA,EAAD,kCACmB0E,EAAKG,qBADxB,aACmB,EAAoBC,QAAO,SAACC,EAAIC,GAAL,OAAWD,EAAIC,EAAIhH,MAAM,OAAK,MAG9E,kBAACuG,EAAA,EAAD,KACE,kBAACzD,EAAA,EAAD,CAAQG,QAASuC,EAAazC,MAAM,WAApC,aC9CJlD,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC4D,KAAM,CACJC,aAAc7D,EAAMG,QAAQ,QAkFjB+G,MA9Ef,SAAenD,GAAQ,IACbpE,EAAWkB,qBAAWC,GAAtBnB,QACDE,EAAgBgB,qBAAWE,GAA3BlB,aACDU,EAAUT,IACTkE,EAAgDD,EAAhDC,GAAI/D,EAA4C8D,EAA5C9D,MAAO2F,EAAqC7B,EAArC6B,MAAOG,EAA8BhC,EAA9BgC,YAAa3B,EAAiBL,EAAjBK,KAAMsC,EAAW3C,EAAX2C,QAJxB,EAKIlG,oBAAS,GALb,mBAKbgF,EALa,KAKP2B,EALO,KAYdC,EAAgB,uCAAG,gCAAAnG,EAAA,6DACjBC,EAAc,CAClBC,MAAM,qDAAD,OAEoB6C,EAFpB,yDAFgB,SAWrBnE,GAAa,GAXQ,SAYAuB,IAAM,CACzBC,IAAI,WACJC,OAAQ,OACRC,KAAML,EACNoD,QAAS,CACT,cAAgB,UAAhB,OAA2BC,aAAaC,QAAQ,aAjB7B,UAYfhD,EAZe,mBAoBlBA,EAAOD,YApBW,aAoBlB,EAAakD,QApBK,oBAqBkB,oBAAjCjD,EAAOD,KAAKkD,OAAO,GAAGC,QArBP,uBAsBjB/E,IACM,IAAI8B,MAAM,kBAvBC,WA0BjBD,EAAOD,KAAKA,KA1BK,uBA2Bb,IAAIE,MAAM,kBA3BG,QA6BrBG,MAAM,mBA7Be,kDA+BrBA,MAAM,EAAD,IACLC,QAAQC,IAAR,MAhCqB,yBAkCrBjC,GAAa,GAlCQ,6EAAH,qDAqCtB,OACE,6BACA,kBAAC8E,EAAA,EAAD,CAAMzC,UAAW3B,EAAQqD,KAAMzB,QAAQ,YACrC,kBAACyC,EAAA,EAAD,KACE,kBAAC3C,EAAA,EAAD,CAAYE,QAAS,KAAKa,MAAM,UAAU6B,cAAY,GACnD5E,GAEH,kBAACgC,EAAA,EAAD,CAAYE,QAAS,MAArB,gBACgBuE,EAAQjG,OAExB,kBAACwB,EAAA,EAAD,CAAYE,QAAS,KAAK0C,cAAY,GAAtC,WACWe,GAEX,kBAAC3D,EAAA,EAAD,CAAYE,QAAQ,QAAQ0C,cAAY,GAAxC,UACUT,GAEV,kBAACnC,EAAA,EAAD,CAAYE,QAAQ,SACjB4D,IAGL,kBAACjB,EAAA,EAAD,KACE,kBAAC/B,EAAA,EAAD,CAAQC,MAAM,UAASC,KAAK,QAAQC,QAAUkE,GAA9C,QACA,kBAACrE,EAAA,EAAD,CAAQC,MAAM,UAASC,KAAK,QAAQC,QAjEjB,WACvBiE,GAAQ,KAgEJ,kBAGJ,kBAAC,EAAD,CAAmB1B,YAjEK,WACxB0B,GAAQ,IAgE2C3B,KAAMA,EAAMkB,QAAWA,MC9ExE5G,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCqH,WAAY,CACVnH,UAAWF,EAAMG,QAAQ,GACzB0D,aAAc7D,EAAMG,QAAQ,IAE9BmH,MAAO,CACLC,OAAQ,aA+EGC,MA3Ef,WACE,IAAMjH,EAAUT,IADG,EAEKU,oBAAS,GAFd,mBAEZgF,EAFY,KAEN2B,EAFM,OAGS3G,mBAAS,IAHlB,mBAGZiH,EAHY,KAGJC,EAHI,KAIZ7H,EAAgBgB,qBAAWE,GAA3BlB,aACPsF,qBAAU,WACRO,MACC,IACH,IAAMA,EAAS,uCAAG,8BAAAzE,EAAA,6DACVC,EAAc,CAClBC,MAAM,yPAFQ,SAmBdtB,GAAa,GAnBC,SAoBOuB,IAAM,CACzBC,IAAK,WACLC,OAAQ,OACRC,KAAML,IAvBM,WAoBRM,EApBQ,QAyBFD,KAAKA,KAzBH,sBA0BN,IAAIE,MAAM,qBA1BJ,OA4BdiG,EAAUlG,EAAOD,KAAKA,KAAKmE,WA5Bb,kDA8Bd9D,MAAM,qBACNC,QAAQC,IAAR,MA/Bc,yBAiCdjC,GAAa,GAjCC,6EAAH,qDA0Cf,OACE,6BACE,kBAACkC,EAAA,EAAD,CAAWC,SAAS,MAClB,kBAAC2C,EAAA,EAAD,CAAMzC,UAAW3B,EAAQ8G,YACvB,kBAACM,EAAA,EAAD,CAAgBzE,QAVC,WACvBiE,GAAQ,KAUA,kBAACS,EAAA,EAAD,CACE1F,UAAW3B,EAAQ+G,MACnBO,MAAOC,IACP7H,MAAM,0BAER,kBAAC2E,EAAA,EAAD,KACE,kBAAC3C,EAAA,EAAD,CAAYC,UAAW3B,EAAQN,MAAOkC,QAAS,KAAKa,MAAM,UAAU6B,cAAY,GAAhF,sCAML4C,EAAOrC,KAAI,SAAAlB,GAAK,OACd,kBAAC,EAAD,CAAOF,GAAME,EAAMoB,IAAKrF,MAAOiE,EAAMjE,MAAO8F,YAAa7B,EAAM6B,YAAaH,MAAO1B,EAAM0B,MAAOxB,KAAMF,EAAME,KAAMsC,QAASxC,EAAMwC,cAGtI,kBAAC,EAAD,CAAmBjB,YAxBG,WACxB0B,GAAQ,IAuB6C3B,KAAMA,EAAME,UAAWA,M,sDC1F1E5F,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC+E,KAAM,CACJgD,SAAU,WACVC,IAAK,IACLC,KAAM,IACNC,MAAO,yBACPX,OAAQ,yBACRY,WAAY,QACZC,QAAS,OAEXC,KAAK,CACHN,SAAU,WACVC,IAAK,MACLC,KAAM,WAgBKK,OAbf,WAAoB,IACV1I,EAAaiB,qBAAWE,GAAxBnB,UACFW,EAAUT,KAChB,OACE,6BACGF,EACA,yBAAKsC,UAAa3B,EAAQwE,MACzB,kBAACwD,GAAA,EAAD,CAAkBrG,UAAW3B,EAAQ8H,QAEtC,O,SCjBQG,OAVf,YAAqD,IAA7B7G,EAA4B,EAA5BA,MAAO8G,EAAqB,EAArBA,SAAaC,EAAQ,qCAClD,OACE,kBAAC,IAAD,iBACMA,EADN,CAEEC,OAAQ,YAAmB,IAAhBC,EAAe,EAAfA,SACT,OAAOjH,EAAQ8G,EAAW,kBAAC,IAAD,CAAUpF,GAAI,CAAEwF,SAAU,UAAWC,MAAO,CAAEC,KAAMH,WCYhF9I,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC+E,KAAM,CACJoD,WAAY,UACZD,MAAO,OACPX,OAAQ,OACRyB,SAAU,GAEZC,KAAM,CACJd,WAAY,UACZe,UAAW,SACXhB,MAAO,MACPX,OAAQ,OACR9E,OAAQ,cACR0G,UAAW,aACX,2BAA4B,CAC1BjB,MAAO,OACPzF,OAAQ,MAGZ2G,WAAY,CACVC,YAAarJ,EAAMG,QAAQ,IAE7BF,MAAO,CACL+I,SAAU,OA8DCM,OA3Df,WACE,IAAM/I,EAAUT,KADH,EAEaU,mBAAS,IAFtB,mBAENmB,EAFM,KAEC4H,EAFD,OAGqB/I,mBAAS,IAH9B,mBAGNZ,EAHM,KAGKC,EAHL,KAIbsF,qBAAU,WACR,IAAMxD,EAAQ4C,aAAaC,QAAQ,SAC/B7C,GACF4H,EAAS5H,KAEX,IACF,IAIMhC,EAAU,WACd4J,EAAS,MACThF,aAAaiF,QAAQ,QAAS,KAEhC,OACE,kBAAC,IAAD,KACE,kBAAC,EAAeC,SAAhB,CAAyB5G,MAAO,CAACjD,YAAWC,iBAC1C,kBAAC,EAAY4J,SAAb,CAAsB5G,MAAO,CAAEnD,OAXtB,SAACiC,GACd4H,EAAS5H,GACT4C,aAAaiF,QAAQ,QAAS7H,IASahC,YACrC,kBAAC,IAAD,KACE,yBAAKuC,UAAW3B,EAAQwE,MACtB,yBAAK7C,UAAW3B,EAAQ0I,MACtB,kBAACS,EAAA,EAAD,CAAQ3B,SAAS,UACf,kBAAC4B,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAY1H,UAAW3B,EAAQ6I,WAAYS,KAAK,QAAQ7G,MAAM,UAAU8G,aAAW,QAAO,kBAAC,IAAD,OAC1F,kBAAC7H,EAAA,EAAD,CAAYC,UAAW3B,EAAQN,MAAOkC,QAAQ,MAA9C,WACA,kBAACY,EAAA,EAAD,CAAQI,UAAWC,IAAMC,GAAG,SAASL,MAAM,WAA3C,SACA,kBAACD,EAAA,EAAD,CAAQI,UAAWC,IAAMC,GAAG,WAAWL,MAAM,WAA7C,WACCrB,EACG,kBAACoB,EAAA,EAAD,CAAQG,QAASvD,EAASqD,MAAM,WAAhC,UACA,kBAACD,EAAA,EAAD,CAAQI,UAAWC,IAAMC,GAAG,UAAUL,MAAM,WAA5C,YAIPrB,GAAS,kBAAC,IAAD,CAAUoH,KAAK,UAAU1F,GAAG,QAAQ0G,OAAK,IAClDpI,GAAS,kBAAC,IAAD,CAAUoH,KAAK,UAAU1F,GAAG,QAAQ0G,OAAK,IACnD,kBAAC,IAAD,CAAOA,OAAK,EAACC,KAAK,IAAI7G,UAAW3D,IACjC,kBAAC,IAAD,CAAOuK,OAAK,EAACC,KAAK,QAAQ7G,UAAW3D,IACrC,kBAAC,IAAD,CAAOuK,OAAK,EAACC,KAAK,UAAU7G,UAAW7C,IACvC,kBAAC,IAAD,CAAOyJ,OAAK,EAACC,KAAK,UAAU7G,UAAWG,IACvC,kBAAC,GAAD,CAAcyG,OAAK,EAACC,KAAK,SAASrI,MAAOA,GACvC,kBAAC,EAAD,OAEF,kBAAC,GAAD,CAAcoI,OAAK,EAACC,KAAK,WAAWrI,MAAOA,GACzC,kBAAC,EAAD,UAKR,kBAAC,GAAD,UC5FVsI,IAAStB,OAAO,kBAAC,GAAD,MAASuB,SAASC,eAAe,U,mBCLjDC,EAAOC,QAAU,IAA0B,mC","file":"static/js/main.28819a1c.chunk.js","sourcesContent":["import React from 'react';\r\nfunction HomePage() {\r\n  return (\r\n    <div>\r\n      Home Page\r\n    </div>\r\n  );\r\n}\r\nexport default HomePage;","import {createContext} from 'react';\r\n\r\nexport default createContext({\r\n  signIn: () => {\r\n\r\n  },\r\n  signOut: () => {\r\n\r\n  }\r\n})","import {createContext} from 'react';\r\n\r\nexport default createContext({\r\n  isLoading: false,\r\n  setIsLoading: () => {\r\n\r\n  },\r\n})","import React, { useState, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport AuthContext from '../context/authContext';\r\nimport LoadingContext from '../context/loadingContext';\r\nconst useStyles = makeStyles(theme => ({\r\n  title: {\r\n    marginTop: theme.spacing(10)\r\n  },\r\n  signInbutton: {\r\n    marginTop: theme.spacing(5)\r\n  },\r\n  signUpbutton: {\r\n    marginTop: theme.spacing(2)\r\n  },\r\n}));\r\nfunction SignInPage() {\r\n  const classes = useStyles();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const { signIn } = useContext(AuthContext);\r\n  const {setIsLoading} = useContext(LoadingContext);\r\n  const handleChangeEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  }\r\n  const handleChangePassword = (e) => {\r\n    setPassword(e.target.value);\r\n  }\r\n  const handleClickSignIn = async () => {\r\n    const requestBody = {\r\n      query: `\r\n        query{\r\n          login(email: \"${email}\", password: \"${password}\"){\r\n            userId\r\n            token\r\n            tokenExpiration\r\n          }\r\n        }\r\n      `\r\n    };\r\n    try {\r\n      setIsLoading(true);\r\n      const result = await axios({\r\n        url: '/graphql',\r\n        method: 'POST',\r\n        data: requestBody,\r\n      })\r\n      if(!result.data.data){\r\n        throw new Error('Sign in Failed');\r\n      }\r\n      signIn(result.data.data.login.token);\r\n      alert('Sign in Succeed');\r\n    } catch (err) {\r\n      alert('Sign in Failed');\r\n      console.log(err);\r\n    } finally{\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <Container maxWidth=\"xs\">\r\n        <Typography className={classes.title} variant=\"h4\" align=\"center\" paragraph=\"true\">Sign in</Typography>\r\n        <TextField label=\"Email\" fullWidth=\"true\" margin=\"normal\" onChange={handleChangeEmail} />\r\n        <TextField type=\"password\" label=\"Password\" fullWidth=\"true\" margin=\"normal\" onChange={handleChangePassword} />\r\n        <Button className={classes.signInbutton} variant=\"contained\" color=\"primary\" fullWidth=\"true\" size=\"large\" onClick={handleClickSignIn}>Sign in</Button>\r\n        <Button component={Link} to=\"/signup\" className={classes.signUpbutton} variant=\"outlined\" fullWidth=\"true\" size=\"large\">Don't have an account? Sign Up</Button>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\nexport default SignInPage;","import React, { useState , useContext} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport axios from 'axios';\r\nimport LoadingContext from '../context/loadingContext';\r\nconst useStyles = makeStyles(theme => ({\r\n  title: {\r\n    marginTop: theme.spacing(10)\r\n  },\r\n  signInbutton: {\r\n    marginTop: theme.spacing(5)\r\n  },\r\n  signUpbutton: {\r\n    marginTop: theme.spacing(2)\r\n  },\r\n}));\r\nfunction SignUpPage() {\r\n  const classes = useStyles();\r\n  const [email, setEmail] = useState('');\r\n  const [password1, setPassword1] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n  const {setIsLoading} = useContext(LoadingContext);\r\n  const handleChangeEmail = (e) => {\r\n    setEmail(e.target.value);\r\n  }\r\n  const handleChangePassword1 = (e) => {\r\n    setPassword1(e.target.value);\r\n  }\r\n  const handleChangePassword2 = (e) => {\r\n    setPassword2(e.target.value);\r\n  }\r\n  const handleClickSignUp = async () => {\r\n    const requestBody = {\r\n      query: `\r\n        mutation {\r\n          createUser(userInput: {\r\n            email: \"${email}\"\r\n            password: \"${password1}\"\r\n          }){\r\n            _id\r\n            email\r\n          }\r\n        }\r\n      `\r\n    };\r\n    try {\r\n      setIsLoading(true);\r\n      if (password1 !== password2 || !password2 || !password2){\r\n        throw new Error('Sign up Failed');\r\n      }\r\n      const result = await axios({\r\n        url:'/graphql',\r\n        method: 'POST',\r\n        data: requestBody,\r\n\r\n      });\r\n      if(!result.data.data){\r\n        throw new Error('Sign up Failed');\r\n      }\r\n      alert('Sign up Succeed');\r\n    } catch (err) {\r\n      alert('Sign up Failed');\r\n      console.log(err);\r\n    } finally{\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <Container maxWidth=\"xs\">\r\n        <Typography className={classes.title} variant=\"h4\" align=\"center\" paragraph=\"true\">Sign in</Typography>\r\n        <TextField label=\"Email\" fullWidth=\"true\" margin=\"normal\" onChange={handleChangeEmail} />\r\n        <TextField type=\"password\" label=\"Password\" fullWidth=\"true\" margin=\"normal\" onChange={handleChangePassword1} />\r\n        <TextField type=\"password\" label=\"Password Confirm\" fullWidth=\"true\" margin=\"normal\" onChange={handleChangePassword2} />\r\n        <Button className={classes.signInbutton} variant=\"contained\" color=\"primary\" fullWidth=\"true\" size=\"large\" onClick={handleClickSignUp}>Sign up</Button>\r\n        <Button component = {Link} to =\"/signin\" className={classes.signUpbutton} variant=\"outlined\" fullWidth=\"true\" size=\"large\">Already have an account? Sign in</Button>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\nexport default SignUpPage;","import React,{useContext}from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport axios from 'axios';\r\nimport AuthContext from '../context/authContext';\r\nimport LoadingContext from '../context/loadingContext';\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    marginBottom: theme.spacing(2)\r\n  },\r\n}));\r\nfunction Booking(props) {\r\n  const { signOut} = useContext(AuthContext);\r\n  const {setIsLoading} = useContext(LoadingContext);\r\n  const classes = useStyles();\r\n  const {id, createdAt, event, getBookings} = props;\r\n  const {title, date} = event;\r\n  const handleBtnCancel = async () => {\r\n    const requestBody = {\r\n      query: `\r\n        mutation{\r\n          cancelBooking(bookingId:\"${id}\"){\r\n            _id\r\n            title\r\n          }\r\n        }\r\n      `\r\n    };\r\n    try {\r\n      setIsLoading(true);\r\n      const result = await axios({\r\n        url:'/graphql',\r\n        method: 'POST',\r\n        data: requestBody,\r\n        headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n      });\r\n      if(result.data?.errors){\r\n        if (result.data.errors[0].message=== 'Unauthenticatd!'){\r\n          signOut();\r\n          throw new Error('Unauthenticatd');\r\n        }\r\n      }\r\n      if(!result.data.data){\r\n        throw new Error('Cancel Booking Failed');\r\n      }\r\n      getBookings();\r\n      alert('Cancel Booking Succeed');\r\n    } catch (err) {\r\n      alert(err);\r\n      console.log(err);\r\n    } finally{\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n    <Card className={classes.card} variant=\"outlined\">\r\n      <CardContent>\r\n        <Typography variant =\"h4\" color=\"primary\" gutterBottom>\r\n          {title}\r\n        </Typography>\r\n        <Typography variant=\"body2\" gutterBottom>\r\n          Event Date : {date}\r\n        </Typography>\r\n        <Typography variant=\"body2\">\r\n          Booking Date : {createdAt}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions>\r\n        <Button color=\"primary\"size=\"small\" onClick = {handleBtnCancel}>Cancel</Button>\r\n      </CardActions>\r\n    </Card>\r\n    </div>\r\n  );\r\n}\r\nexport default Booking;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Booking from '../components/Booking';\r\nimport AuthContext from '../context/authContext';\r\nimport LoadingContext from '../context/loadingContext';\r\nimport axios from 'axios';\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    marginTop: theme.spacing(5),\r\n  },\r\n}));\r\nfunction BookingPage() {\r\n  const { signOut } = useContext(AuthContext);\r\n  const {setIsLoading} = useContext(LoadingContext);\r\n  const classes = useStyles();\r\n  const [bookings, setBookings] = useState([]);\r\n  useEffect(() => {\r\n    getBookings();\r\n  },[]);\r\n  const getBookings = async () => {\r\n    const requestBody = {\r\n      query: `\r\n        query{\r\n          getBookings{\r\n            _id\r\n            createdAt\r\n            event{\r\n              title\r\n              date\r\n            }\r\n          }\r\n        }\r\n      `\r\n    };\r\n    try {\r\n      setIsLoading(true);\r\n      const result = await axios({\r\n        url: '/graphql',\r\n        method: 'POST',\r\n        data: requestBody,\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n      });\r\n      if(result.data?.errors){\r\n        if (result.data.errors[0].message=== 'Unauthenticatd!'){\r\n          signOut();\r\n          throw new Error('Unauthenticatd');\r\n        }\r\n      }\r\n      if (!result.data.data) {\r\n        throw new Error('Get bookings Failed');\r\n      }\r\n      setBookings(result.data.data.getBookings);\r\n    } catch (err) {\r\n      alert(err);\r\n      console.log(err);\r\n    } finally{\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n  return (\r\n    <Container maxWidth=\"lg\" className={classes.root}>\r\n      {bookings?.map(booking =>\r\n        (<Booking getBookings = {getBookings} id={booking._id} createdAt={booking.createdAt} event={booking.event} />)\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\nexport default BookingPage;","import React, { useState, useContext } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport axios from 'axios';\r\nimport AuthContext from '../context/authContext';\r\nimport LoadingContext from '../context/loadingContext';\r\nfunction EventCreateDialog(props) {\r\n  const { signOut} = useContext(AuthContext);\r\n  const { open, handleClose, getEvents } = props;\r\n  const {setIsLoading} = useContext(LoadingContext);\r\n  const [title, setTitle] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const [date, setDate] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const handleCreate = async () => {\r\n    const requestBody = {\r\n      query: `\r\n        mutation{\r\n          createEvent(eventInput:{\r\n            title: \"${title}\"\r\n            description: \"${description}\"\r\n            price: ${+price}\r\n            date: \"${date}\"\r\n          }){\r\n            _id\r\n            title\r\n            description\r\n            price\r\n            date\r\n          }\r\n        }\r\n      `\r\n    };\r\n    try {\r\n      handleClose();\r\n      setIsLoading(true);\r\n      if(!title || !price || !date || !description){\r\n        throw new Error('Create event Failed');\r\n      }\r\n      const result = await axios({\r\n        url:'/graphql',\r\n        method: 'POST',\r\n        data: requestBody,\r\n        headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n      });\r\n      if(result.data?.errors){\r\n        if (result.data.errors[0].message=== 'Unauthenticatd!'){\r\n          signOut();\r\n          throw new Error('Unauthenticatd');\r\n        }\r\n      }\r\n      if(!result.data.data){\r\n        throw new Error('Create event Failed');\r\n      }\r\n      alert('Create event Succeed');\r\n      getEvents();\r\n    } catch (err) {\r\n      alert(err);\r\n      console.log(err);\r\n    } finally{\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n  const handleChangeTitle = (e) => {\r\n    setTitle(e.target.value);\r\n  }\r\n  const handleChangePrice = (e) => {\r\n    setPrice(e.target.value);\r\n  }\r\n  const handleChangeDate = (e) => {\r\n    setDate(e.target.value);\r\n  }\r\n  const handleChangeDescription = (e) => {\r\n    setDescription(e.target.value);\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <Dialog open={open} onClose={handleClose} >\r\n        <DialogTitle>Create Event</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Please enter information about event you want to create!\r\n          </DialogContentText>\r\n          <TextField autoFocus margin=\"dense\" label=\"Title\" fullWidth onChange={handleChangeTitle} />\r\n          <TextField margin=\"dense\" label=\"Price\" fullWidth onChange={handleChangePrice} />\r\n          <TextField margin=\"dense\" label=\"Date\" fullWidth onChange={handleChangeDate} />\r\n          <TextField margin=\"dense\" label=\"Description\" fullWidth onChange={handleChangeDescription} />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleCreate} color=\"primary\">\r\n            Create\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default EventCreateDialog;","import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport axios from 'axios';\r\nfunction CreatorInfoDialog(props) {\r\n  const { open, handleClose, creator } = props;\r\n  const [user, setUser] = useState('');\r\n  useEffect(() => {\r\n    getUser();\r\n  },[]);\r\n  const getUser = async () => {\r\n    const requestBody = {\r\n      query: `\r\n        query{\r\n          getUser(email:\"${creator.email}\"){\r\n            _id\r\n            email\r\n            createdEvents{\r\n              title\r\n            }\r\n            password\r\n          }\r\n        }\r\n      `\r\n    };\r\n    try {\r\n      const result = await axios({\r\n        url: '/graphql',\r\n        method: 'POST',\r\n        data: requestBody,\r\n      });\r\n      if (!result.data.data) {\r\n        throw new Error('Get user failed');\r\n      }\r\n      setUser(result.data.data.getUser)\r\n    } catch (err) {\r\n      alert('Get user failed');\r\n      console.log(err);\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <Dialog open={open} onClose={handleClose} >\r\n        <DialogTitle>Creator Information</DialogTitle>\r\n        <DialogContent>\r\n          <Typography gutterBottom>\r\n            Email : {user.email}\r\n          </Typography >\r\n          <Typography >\r\n            Ceated Events : {user.createdEvents?.reduce((arg,ele)=>arg+ele.title+', ','')}\r\n          </Typography >\r\n        </DialogContent>\r\n        <DialogActions >\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\nexport default CreatorInfoDialog","import React, { useState, useContext}  from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CreatorInfoDialog from '../components/CreatorInfoDialog';\r\nimport AuthContext from '../context/authContext';\r\nimport axios from 'axios';\r\nimport LoadingContext from '../context/loadingContext';\r\nconst useStyles = makeStyles(theme => ({\r\n  card: {\r\n    marginBottom: theme.spacing(2)\r\n  },\r\n}));\r\n\r\nfunction Event(props) {\r\n  const { signOut} = useContext(AuthContext);\r\n  const {setIsLoading} = useContext(LoadingContext);\r\n  const classes = useStyles();\r\n  const {id, title, price, description, date, creator} = props;\r\n  const [open, setOpen] = useState(false);\r\n  const handleDialogOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDialogClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const handleBtnBooking = async () => {\r\n    const requestBody = {\r\n      query: `\r\n        mutation{\r\n          bookEvent(eventId:\"${id}\"){\r\n            _id\r\n          }\r\n        }\r\n      `\r\n    };\r\n    try {\r\n      setIsLoading(true);\r\n      const result = await axios({\r\n        url:'/graphql',\r\n        method: 'POST',\r\n        data: requestBody,\r\n        headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token')}`,\r\n        },\r\n      });\r\n      if(result.data?.errors){\r\n        if (result.data.errors[0].message=== 'Unauthenticatd!'){\r\n          signOut();\r\n          throw new Error('Unauthenticatd');\r\n        }\r\n      }\r\n      if(!result.data.data){\r\n        throw new Error('Booking Failed');\r\n      }\r\n      alert('Booking Succeed');\r\n    } catch (err) {\r\n      alert(err);\r\n      console.log(err);\r\n    } finally{\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n    <Card className={classes.card} variant=\"outlined\">\r\n      <CardContent>\r\n        <Typography variant =\"h4\" color=\"primary\" gutterBottom>\r\n          {title}\r\n        </Typography>\r\n        <Typography variant =\"h6\">\r\n          Created By : {creator.email}\r\n        </Typography>\r\n        <Typography variant =\"h6\" gutterBottom>\r\n          Price : {price}\r\n        </Typography>\r\n        <Typography variant=\"body2\" gutterBottom>\r\n          Date : {date}\r\n        </Typography>\r\n        <Typography variant=\"body2\" >\r\n          {description}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions>\r\n        <Button color=\"primary\"size=\"small\" onClick ={handleBtnBooking}>Book</Button>\r\n        <Button color=\"primary\"size=\"small\" onClick = {handleDialogOpen}>Creator Info</Button>\r\n      </CardActions>\r\n    </Card>\r\n    <CreatorInfoDialog handleClose={handleDialogClose} open={open} creator = {creator} />\r\n    </div>\r\n  );\r\n}\r\nexport default Event;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport eventImg from '../img/event.png';\r\nimport EventCreateDialog from '../components/EventCreateDialog';\r\nimport axios from 'axios';\r\nimport Event from '../components/Event';\r\nimport LoadingContext from '../context/loadingContext';\r\nconst useStyles = makeStyles(theme => ({\r\n  createCard: {\r\n    marginTop: theme.spacing(5),\r\n    marginBottom: theme.spacing(3)\r\n  },\r\n  media: {\r\n    height: '10rem'\r\n  },\r\n}));\r\n\r\nfunction EventPage() {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [events, setEvents] = useState([]);\r\n  const {setIsLoading} = useContext(LoadingContext);\r\n  useEffect(() => {\r\n    getEvents();\r\n  }, []);\r\n  const getEvents = async () => {\r\n    const requestBody = {\r\n      query: `\r\n        query{\r\n          getEvents{\r\n            _id\r\n            title\r\n            description\r\n            price\r\n            date\r\n            creator{\r\n              _id\r\n              email\r\n            }\r\n          }\r\n        }\r\n      `\r\n    };\r\n    try {\r\n      setIsLoading(true);\r\n      const result = await axios({\r\n        url: '/graphql',\r\n        method: 'POST',\r\n        data: requestBody,\r\n      });\r\n      if (!result.data.data) {\r\n        throw new Error('Get events Failed');\r\n      }\r\n      setEvents(result.data.data.getEvents);\r\n    } catch (err) {\r\n      alert('Get events Failed');\r\n      console.log(err);\r\n    } finally{\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n  const handleDialogOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDialogClose = () => {\r\n    setOpen(false);\r\n  };\r\n  return (\r\n    <div>\r\n      <Container maxWidth=\"lg\">\r\n        <Card className={classes.createCard}>\r\n          <CardActionArea onClick={handleDialogOpen}>\r\n            <CardMedia\r\n              className={classes.media}\r\n              image={eventImg}\r\n              title=\"Contemplative Reptile\"\r\n            />\r\n            <CardContent>\r\n              <Typography className={classes.title} variant =\"h6\" color=\"primary\" gutterBottom>\r\n                Create event whatever you want!\r\n              </Typography>\r\n            </CardContent>\r\n          </CardActionArea>\r\n        </Card>\r\n        {events.map(event =>\r\n          (<Event id = {event._id} title={event.title} description={event.description} price={event.price} date={event.date} creator={event.creator}/>)\r\n        )}\r\n      </Container>\r\n      <EventCreateDialog handleClose={handleDialogClose} open={open} getEvents={getEvents} />\r\n    </div>\r\n  );\r\n}\r\nexport default EventPage;","import React, {useContext} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport LoadingContext from '../context/loadingContext';\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    position: 'absolute',\r\n    top: '0',\r\n    left: '0',\r\n    width: '-webkit-fill-available',\r\n    height: '-webkit-fill-available',\r\n    background: 'black',\r\n    opacity: '0.5',\r\n  },\r\n  icon:{\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n  }\r\n}));\r\nfunction Loading() {\r\n  const { isLoading} = useContext(LoadingContext);\r\n  const classes = useStyles();\r\n  return(\r\n    <div >\r\n      {isLoading\r\n      ?<div className = {classes.root}>\r\n        <CircularProgress className={classes.icon} />\r\n      </div>\r\n      :null}\r\n    </div>\r\n  )\r\n}\r\nexport default Loading;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nfunction PrivateRoute({ token, children, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) => {\r\n        return token ? children : <Redirect to={{ pathname: \"/signin\", state: { from: location } }} />\r\n      }}\r\n    />\r\n  );\r\n};\r\nexport default PrivateRoute;","import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter, Route, Redirect, Switch, Link } from 'react-router-dom';\r\nimport './App.css';\r\nimport HomePage from './pages/Home';\r\nimport SignInPage from './pages/SignIn';\r\nimport SignUpPage from './pages/SignUp';\r\nimport BookingPage from './pages/Booking';\r\nimport EventPage from './pages/Event';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport AuthContext from './context/authContext';\r\nimport Loading from './components/Loading';\r\nimport LoadingContext from './context/loadingContext';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    background: '#ecf0f1',\r\n    width: '100%',\r\n    height: '100%',\r\n    flexGrow: 1,\r\n  },\r\n  main: {\r\n    background: '#ffffff',\r\n    overflowY: 'scroll',\r\n    width: '50%',\r\n    height: '100%',\r\n    margin: '0 25% 0 25%',\r\n    boxSizing: 'border-box',\r\n    '@media (max-width:960px)': {\r\n      width: '100%',\r\n      margin: '0'\r\n    }\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\nfunction App() {\r\n  const classes = useStyles();\r\n  const [token, setToken] = useState('');\r\n  const [isLoading, setIsLoading] = useState('');\r\n  useEffect(()=>{\r\n    const token = localStorage.getItem('token');\r\n    if (token){\r\n      setToken(token);\r\n    }\r\n  },[])\r\n  const signIn = (token) => {\r\n    setToken(token);\r\n    localStorage.setItem('token', token);\r\n  }\r\n  const signOut = () => {\r\n    setToken(null);\r\n    localStorage.setItem('token', '');\r\n  }\r\n  return (\r\n    <BrowserRouter>\r\n      <LoadingContext.Provider value={{isLoading, setIsLoading}}>\r\n        <AuthContext.Provider value={{ signIn, signOut }}>\r\n          <Switch>\r\n            <div className={classes.root}>\r\n              <div className={classes.main}>\r\n                <AppBar position=\"static\">\r\n                  <Toolbar>\r\n                    <IconButton className={classes.menuButton} edge=\"start\" color=\"inherit\" aria-label=\"menu\"><MenuIcon /></IconButton>\r\n                    <Typography className={classes.title} variant=\"h6\" >Booking</Typography>\r\n                    <Button component={Link} to=\"/event\" color=\"inherit\">Event</Button>\r\n                    <Button component={Link} to=\"/booking\" color=\"inherit\">Booking</Button>\r\n                    {token\r\n                      ? <Button onClick={signOut} color=\"inherit\">Logout</Button>\r\n                      : <Button component={Link} to=\"/signin\" color=\"inherit\">SignIn</Button>\r\n                    }\r\n                  </Toolbar>\r\n                </AppBar>\r\n                {token && <Redirect from=\"/signin\" to=\"/home\" exact />}\r\n                {token && <Redirect from=\"/signup\" to=\"/home\" exact />}\r\n                <Route exact path=\"/\" component={HomePage} />\r\n                <Route exact path=\"/home\" component={HomePage} />\r\n                <Route exact path=\"/signin\" component={SignInPage} />\r\n                <Route exact path=\"/signup\" component={SignUpPage} />\r\n                <PrivateRoute exact path=\"/event\" token={token}>\r\n                  <EventPage />\r\n                </PrivateRoute>\r\n                <PrivateRoute exact path=\"/booking\" token={token}>\r\n                  <BookingPage />\r\n                </PrivateRoute>\r\n              </div>\r\n            </div>\r\n          </Switch>\r\n          <Loading/>\r\n        </AuthContext.Provider>\r\n      </LoadingContext.Provider>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/event.8762902f.png\";"],"sourceRoot":""}